<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Culinary Excellence & Economic Prosperity</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega/5.27.0/vega.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-lite/5.17.0/vega-lite.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-embed/6.24.0/vega-embed.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        /* FINAL WARM PALETTE */
        :root {
            --color-primary: #f9ba4c;      /* Bright Orange for Titles/Accent */
            --color-secondary: #b45547;    /* Soft Red for solid Header/Emphasis */
            --color-dark: #44403c;         /* Dark Gray/Brown for text */
            --color-light-bg: #fff7ed;     /* Very Light Peach/Cream Background */
            --color-highlight: #fef3c7;    /* Light Yellow/Highlight for key boxes */
            --color-border: #fca5a5;       /* Light Red/Orange Border */
            --color-footer-bg: #44403c;    /* Dark Brown/Gray for footer */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            color: var(--color-dark);
            line-height: 1.6;
            padding: 40px 20px;
            background-color: var(--color-light-bg);
        }
        
        .container {
            max-width: 1100px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }
        
        header {
            background: var(--color-secondary);
            color: white;
            padding: 60px 50px;
            text-align: center;
        }
        
        header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.8em;
            margin-bottom: 8px;
            font-weight: 700;
        }
        
        header p {
            font-size: 1.1em;
            opacity: 0.9;
            margin-bottom: 5px;
        }
        
        .subheader {
            font-size: 0.95em;
            opacity: 0.8;
            color: #fee2e2;
        }
        
        .content {
            padding: 50px;
        }
        
        section {
            margin-bottom: 70px;
        }
        
        section h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2em;
            color: var(--color-primary);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--color-border);
        }
        
        .brief-text {
            font-size: 0.95em;
            color: var(--color-dark);
            margin-bottom: 20px;
            line-height: 1.7;
        }
        
        .what-why-how {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin: 30px 0 30px 0;
            background: var(--color-highlight);
            padding: 25px;
            border-radius: 10px;
            border: 1px solid var(--color-primary);
        }
        
        .what-why-how > div h3 {
            font-size: 0.9em;
            font-weight: 600;
            color: var(--color-dark);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .what-why-how > div p {
            font-size: 0.85em;
            color: var(--color-dark);
            line-height: 1.5;
        }
        
        .viz-container {
            margin: 0;
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }
        
        .viz-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5em;
            font-weight: 600;
            color: var(--color-dark);
            margin-bottom: 5px;
        }
        
        .viz-description {
            font-size: 0.9em;
            color: #a8a29e;
            margin-bottom: 15px;
            min-height: 30px; 
        }
        
        .vis-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 25px;
            margin-top: 30px;
        }
        
        .vis-single {
            grid-column: 1 / -1;
        }
        
        .vis {
            width: 100%;
            height: auto;
        }
        
        .key-finding {
            background: #fef2f2;
            border-left: 4px solid var(--color-secondary);
            padding: 18px 25px;
            margin: 20px 0 0 0;
            border-radius: 4px;
            font-size: 1em;
            line-height: 1.6;
            color: #cf5a34;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .key-finding strong {
            color: var(--color-secondary);
        }
        
        .methodology {
            background: var(--color-highlight);
            padding: 30px;
            border-radius: 10px;
            margin-top: 50px;
            border: 1px solid var(--color-primary);
        }
        
        .methodology h3 {
            font-size: 1.3em;
            margin-bottom: 15px;
            color: var(--color-dark);
            border-bottom: 2px solid var(--color-border);
            padding-bottom: 10px;
        }
        
        .methodology-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-top: 15px;
        }
        
        .methodology-section h4 {
            font-size: 0.95em;
            font-weight: 600;
            color: var(--color-dark);
            margin-bottom: 8px;
        }
        
        .methodology-section ul {
            margin-left: 20px;
            color: var(--color-dark);
            font-size: 0.85em;
        }
        
        .methodology-section li {
            margin-bottom: 6px;
            line-height: 1.5;
        }
        
        footer {
            background: var(--color-footer-bg);
            color: #f7fee7;
            padding: 40px 50px;
            font-size: 0.85em;
            line-height: 1.7;
        }
        
        footer h3 {
            font-size: 1.1em;
            margin-bottom: 12px;
            color: white;
        }
        
        footer a {
            color: #fcd34d;
            text-decoration: none;
        }
        
        footer ul {
            margin-left: 20px;
            margin-top: 8px;
        }
        
        footer li {
            margin-bottom: 6px;
        }
        
        .code-ref {
            background: #57534e;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.8em;
            color: #fcd34d;
        }
        
        @media (max-width: 1024px) {
            .what-why-how {
                grid-template-columns: 1fr;
            }
            .vis-grid {
                grid-template-columns: 1fr;
            }
            .methodology-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Culinary Excellence & Economic Prosperity</h1>
            <p>Do Michelin Stars Cluster in Wealthy Nations?</p>
            <div class="subheader">A scrollable analysis of fine dining prestige across global economic classifications</div>
        </header>
        
        <div class="content">
            <section>
                <h2>Introduction & Framework</h2>
                <div class="what-why-how">
                    <div>
                        <h3>What (Data)</h3>
                        <p>Michelin restaurant data joined with World Bank economic classifications for 195 countries.</p>
                    </div>
                    <div>
                        <h3>Why (Goal)</h3>
                        <p>Examine whether culinary prestige correlates with national wealth and infrastructure capacity.</p>
                    </div>
                    <div>
                        <h3>How (Methods)</h3>
                        <p>Seven interactive visualizations guiding the reader through geographic, economic, and cultural patterns.</p>
                    </div>
                </div>
            </section>
            
            <section>
                <h2>1. Global Distribution: A Geographic Divide</h2>
                <p class="brief-text">Michelin stars represent a pinnacle of culinary achievement, yet their distribution is highly unequal. The interactive map below, colored by income group, shows clear clustering in prosperous economies.</p>
                
                <div class="viz-container vis-single">
                    <div class="viz-title">1. Interactive Global Star Distribution by Income Group</div>
                    <div class="viz-description">Drag to pan, scroll to zoom. Circle size indicates star award; color shows World Bank Income Group. (Uses `michelin.csv` and `economic_classification.csv`).</div>
                    <div id="vis1" class="vis"></div>
                </div>
                
                <div class="viz-container vis-single">
                    <div class="viz-title">2. Economic Concentration: Star Rating Breakdown by Income Group</div>
                    <div class="viz-description">Stacked bar chart showing the proportion of 1, 2, and 3-star restaurants across income levels. Only High-income nations host all three tiers.</div>
                    <div id="vis2" class="vis"></div>
                </div>

                <div class="key-finding">
                    The analysis confirms a **stark economic divide**. **High-income** nations account for over 97% of all Michelin awards globally. **Three-star** restaurants exist almost exclusively in this category, illustrating that economic infrastructure is critical for the highest tier of fine dining.
                </div>
            </section>

            <section>
                <h2>2. Regional & National Dominance</h2>
                <p class="brief-text">Focusing on regional contributions, the following charts detail which World Bank regions are the most dominant and how the star ratings are distributed within those geographic boundaries.</p>
                
                <div class="vis-grid">
                    <div class="viz-container">
                        <div class="viz-title">5. Regional Dominance: Total Michelin Stars by World Region</div>
                        <div class="viz-description">Horizontal bar chart ranking World Bank regions by the total number of Michelin stars awarded.</div>
                        <div id="vis5" class="vis"></div>
                    </div>
                    <div class="viz-container">
                        <div class="viz-title">7. Regional Star Breakdown (1-Star, 2-Stars, 3-Stars)</div>
                        <div class="viz-description">Stacked bar chart showing the absolute count of 1-Star, 2-Star, and 3-Star restaurants per World Bank Region.</div>
                        <div id="vis7" class="vis"></div>
                    </div>
                </div>

                <div class="key-finding">
                    **Europe & Central Asia** leads by a massive margin (over 70% of global stars), followed by **East Asia & Pacific**. The regional stacked bar emphasizes the dominance of Europe in the most elite **3-Star** category, while regions like Sub-Saharan Africa show zero presence.
                </div>
            </section>
            
            <section>
                <h2>3. Price, Style, and Performance</h2>
                <p class="brief-text">The final section explores the characteristics of the restaurants themselves: the cuisine styles that are favored, the price expectations, and how national performance is measured.</p>
                
                <div class="vis-grid">
                    <div class="viz-container">
                        <div class="viz-title">3. Cuisine Popularity: Top 10 Starred Cuisine Types</div>
                        <div class="viz-description">Horizontal bar chart ranking the top 10 cuisine types by the total number of stars awarded.</div>
                        <div id="vis3" class="vis"></div>
                    </div>
                    <div class="viz-container">
                        <div class="viz-title">4. Quality vs. Cost: Price Distribution by Star Rating</div>
                        <div class="viz-description">Box plot showing the distribution of restaurant price categories (1=€ to 4=€€€€) for each star level.</div>
                        <div id="vis4" class="vis"></div>
                    </div>
                </div>

                <div class="viz-container vis-single">
                    <div class="viz-title">6. Country Performance: Total Restaurants vs. Total Stars (Top 20)</div>
                    <div class="viz-description">Scatter plot showing the relationship between a country's total starred restaurants (X-axis) and total stars (Y-axis).</div>
                    <div id="vis6" class="vis"></div>
                </div>
                
                <div class="key-finding">
                    **Modern Cuisine** is the most awarded style, and the **Box Plot** confirms a clear, direct correlation between **Star Rating** and the median **Price Index**. The scatter plot demonstrates that overall star leadership is primarily driven by the **volume** of recognized restaurants a country develops.
                </div>
            </section>
            
            <div class="methodology">
                <h3>Methodology</h3>
                <div class="methodology-grid">
                    <div class="methodology-section">
                        <h4>Data & Integration</h4>
                        <ul>
                            <li><strong>Michelin Star Data:</strong> `michelin.csv` (2024 Kaggle dataset).</li>
                            <li><strong>Economic Classification:</strong> `economic_classification.csv` (2024 World Bank data).</li>
                            <li>**Integration:** Vega-Lite `lookup` transform used to join CSV files on the extracted Country Name/Economy fields.</li>
                        </ul>
                    </div>
                    <div class="methodology-section">
                        <h4>Design & Implementation</h4>
                        <ul>
                            <li>**Storytelling:** Single-column scrollable format with explicit section headings and key-finding callouts.</li>
                            <li>**Design Principles:** Vibrant warm color palette (Yellows, Oranges, Reds), solid header color, and wide layout.</li>
                            <li>**Framework:** Vega-Lite 5.17, dynamic loading of 7 specs, interactive map (`vis1`) for exploration.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <h3>About</h3>
            <p>This dashboard confirms a strong correlation between economic prosperity and culinary prestige: 97% of Michelin stars are in high-income countries. This reflects both the economic infrastructure required for fine dining and potential geographic bias in coverage.</p>
            
            <p style="margin-top: 15px;"><strong>Citation:</strong> Amolika Yadav | October 2025 | <a href="https://github.com/amolikay/FIT3179_A2" target="_blank" rel="noopener noreferrer"><span class="code-ref">github.com/amolikay/FIT3179_A2</span></a> | Data: Kaggle Michelin Dataset (2024), World Bank Classifications (2024)</p>
            
            <p style="margin-top: 15px;"><strong>Repository:</strong></p>
            <ul>
                <li><span class="code-ref">index.html</span> — Main dashboard</li>
                <li><span class="code-ref">specs/</span> — Seven Vega-Lite JSON specifications</li>
                <li><span class="code-ref">michelin.csv, economic_classification.csv</span> — Source Data Files</li>
            </ul>
        </footer>
    </div>
    
    <script>
        // Define URLs for all seven Vega-Lite specs (Filenames remain the same)
        const specs = {
            vis1: 'specs/map-interactive-star-spec.json',
            vis2: 'specs/stacked-star-income-spec.json',
            vis3: 'specs/cuisine-star-rank-spec.json',
            vis4: 'specs/price-boxplot-spec.json',
            vis5: 'specs/regional-star-rank-spec.json',
            vis6: 'specs/country-volume-scatter-spec.json',
            vis7: 'specs/regional-star-breakdown-spec.json'
        };
        
        // Function to load and render visualisations
        async function loadVis(elementId, specUrl) {
            try {
                const response = await fetch(specUrl);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const spec = await response.json();
                
                // Use SVG renderer for the map for better interaction, canvas for others
                const renderer = elementId === '#vis1' ? 'svg' : 'canvas';
                await vegaEmbed(elementId, spec, {actions: false, renderer: renderer});
            } catch (error) {
                console.error('Error loading ' + specUrl, error);
                // Fallback to a simple placeholder if spec fails to load
                displayFallbackVis(elementId);
            }
        }
        
        // Fallback visualisations (simple spec) if external files are unavailable
        function displayFallbackVis(elementId) {
            const fallbackSpec = {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "width": "container",
                "height": 300,
                "title": {"text": "Chart Loading Error - Data Processing Failed", "fontSize": 14},
                "data": {"values": []},
                "mark": "bar",
                "encoding": {"x": {"field": "value"}, "y": {"field": "category"}}
            };
            vegaEmbed(elementId, fallbackSpec, {actions: false});
        }
        
        // Load all visualisations when page loads
        document.addEventListener('DOMContentLoaded', function() {
            for (let i = 1; i <= 7; i++) {
                loadVis('#vis' + i, specs['vis' + i]);
            }
        });
    </script>
</body>
</html> -->






<!-- 

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Culinary Excellence & Economic Prosperity</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega/5.27.0/vega.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-lite/5.17.0/vega-lite.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-embed/6.24.0/vega-embed.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        /* FINAL WARM PALETTE */
        :root {
            --color-primary: #f59e0b;      /* Bright Orange for Titles/Accent */
            --color-secondary: #ef4444;    /* Soft Red for solid Header/Emphasis */
            --color-dark: #44403c;         /* Dark Gray/Brown for text */
            --color-light-bg: #fff7ed;     /* Very Light Peach/Cream Background */
            --color-highlight: #fef3c7;    /* Light Yellow/Highlight for key boxes */
            --color-border: #fca5a5;       /* Light Red/Orange Border */
            --color-footer-bg: #44403c;    /* Dark Brown/Gray for footer */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            color: var(--color-dark);
            line-height: 1.6;
            padding: 40px 20px;
            
            /* Background Doodles: Michelin flower pattern */
            background-color: var(--color-light-bg);
            /* To use your Michelin flower image: 
               1. Save the image (e.g., michelin_flower.png) in your repository.
               2. Replace the placeholder URL below with: url('michelin_flower.png') 
               3. Adjust background-size and opacity as needed for subtlety. */
            background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"%3E%3Cdefs%3E%3Cmask id="michelin_mask"%3E%3Crect x="0" y="0" width="100" height="100" fill="white"/%3E%3Cpath d="M50 0C22.38 0 0 22.38 0 50s22.38 50 50 50 50-22.38 50-50S77.62 0 50 0zm0 10c14.2 0 26.97 6.13 35.84 15.93L70.17 29.83C62.77 21.6 56.63 10 50 10zM85.84 34.07C77.03 24.27 64.26 18.14 50 18.14S22.97 24.27 14.16 34.07L29.83 70.17C37.23 78.4 43.37 90 50 90s12.77-11.6 20.17-19.83L85.84 34.07z" fill="black"/%3E%3C/mask%3E%3C/defs%3E%3Crect x="0" y="0" width="100" height="100" fill="%23fee2e2" mask="url(%23michelin_mask)" opacity="0.1"/%3E%3C/svg%3E');
            background-repeat: repeat;
            background-size: 80px; 
            background-position: center top;
        }
        
        .container {
            max-width: 1100px; 
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }
        
        header {
            background: var(--color-secondary);
            color: white;
            padding: 60px 50px;
            text-align: center;
        }
        
        header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.8em;
            margin-bottom: 8px;
            font-weight: 700;
        }
        
        header p {
            font-size: 1.1em;
            opacity: 0.9;
            margin-bottom: 5px;
        }
        
        .subheader {
            font-size: 0.95em;
            opacity: 0.8;
            color: #fee2e2;
        }
        
        .content {
            padding: 50px;
        }
        
        section {
            margin-bottom: 70px;
        }
        
        section h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2em;
            color: var(--color-primary);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--color-border);
        }
        
        .brief-text {
            font-size: 0.95em;
            color: var(--color-dark);
            margin-bottom: 20px;
            line-height: 1.7;
        }
        
        .what-why-how {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin: 30px 0 30px 0;
            background: var(--color-highlight);
            padding: 25px;
            border-radius: 10px;
            border: 1px solid var(--color-primary);
        }
        
        .what-why-how > div h3 {
            font-size: 0.9em;
            font-weight: 600;
            color: var(--color-dark);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .what-why-how > div p {
            font-size: 0.85em;
            color: var(--color-dark);
            line-height: 1.5;
        }
        
        .viz-container {
            margin: 0;
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }
        
        .viz-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5em;
            font-weight: 600;
            color: var(--color-dark);
            margin-bottom: 5px;
        }
        
        .viz-description {
            font-size: 0.9em;
            color: #a8a29e;
            margin-bottom: 15px;
            min-height: 30px; 
        }
        
        .vis-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 25px;
            margin-top: 30px;
        }
        
        .vis-single {
            grid-column: 1 / -1;
        }
        
        .vis {
            width: 100%;
            height: auto;
        }
        
        .key-finding {
            background: #fef2f2;
            border-left: 4px solid var(--color-secondary);
            padding: 18px 25px;
            margin: 20px 0 0 0;
            border-radius: 4px;
            font-size: 1em;
            line-height: 1.6;
            color: #b91c1c;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .key-finding strong {
            color: var(--color-secondary);
        }
        
        .methodology {
            background: var(--color-highlight);
            padding: 30px;
            border-radius: 10px;
            margin-top: 50px;
            border: 1px solid var(--color-primary);
        }
        
        .methodology h3 {
            font-size: 1.3em;
            margin-bottom: 15px;
            color: var(--color-dark);
            border-bottom: 2px solid var(--color-border);
            padding-bottom: 10px;
        }
        
        .methodology-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-top: 15px;
        }
        
        .methodology-section h4 {
            font-size: 0.95em;
            font-weight: 600;
            color: var(--color-dark);
            margin-bottom: 8px;
        }
        
        .methodology-section ul {
            margin-left: 20px;
            color: var(--color-dark);
            font-size: 0.85em;
        }
        
        .methodology-section li {
            margin-bottom: 6px;
            line-height: 1.5;
        }
        
        footer {
            background: var(--color-footer-bg);
            color: #f7fee7;
            padding: 40px 50px;
            font-size: 0.85em;
            line-height: 1.7;
        }
        
        footer h3 {
            font-size: 1.1em;
            margin-bottom: 12px;
            color: white;
        }
        
        footer a {
            color: #fcd34d;
            text-decoration: none;
        }
        
        footer ul {
            margin-left: 20px;
            margin-top: 8px;
        }
        
        footer li {
            margin-bottom: 6px;
        }
        
        .code-ref {
            background: #57534e;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.8em;
            color: #fcd34d;
        }
        
        @media (max-width: 1024px) {
            .what-why-how {
                grid-template-columns: 1fr;
            }
            .vis-grid {
                grid-template-columns: 1fr;
            }
            .methodology-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Culinary Excellence & Economic Prosperity</h1>
            <p>Do Michelin Stars Cluster in Wealthy Nations?</p>
            <div class="subheader">A scrollable analysis of fine dining prestige across global economic classifications</div>
        </header>
        
        <div class="content">
            <section>
                <h2>Introduction & Framework</h2>
                <div class="what-why-how">
                    <div>
                        <h3>What (Data)</h3>
                        <p>Michelin restaurant data joined with World Bank economic classifications for 195 countries.</p>
                    </div>
                    <div>
                        <h3>Why (Goal)</h3>
                        <p>Examine whether culinary prestige correlates with national wealth and infrastructure capacity.</p>
                    </div>
                    <div>
                        <h3>How (Methods)</h3>
                        <p>Seven interactive visualizations guiding the reader through geographic, economic, and cultural patterns.</p>
                    </div>
                </div>
            </section>
            
            <section>
                <h2>1. Global Distribution: A Geographic Divide</h2>
                <p class="brief-text">Michelin stars represent a pinnacle of culinary achievement, yet their distribution is highly unequal. The interactive map below, colored by income group, shows clear clustering in prosperous economies.</p>
                
                <div class="viz-container">
                    <div class="viz-title">1. Interactive Global Star Distribution by Income Group</div>
                    <div class="viz-description">Drag to pan, scroll to zoom. Circle size indicates star award; color shows World Bank Income Group. (Uses `michelin.csv` and `economic_classification.csv`).</div>
                    <div id="vis1" class="vis"></div>
                </div>
                
                <div class="viz-container">
                    <div class="viz-title">2. Economic Concentration: Star Rating Breakdown by Income Group</div>
                    <div class="viz-description">Stacked bar chart showing the proportion of 1, 2, and 3-star restaurants across income levels. Only High-income nations host all three tiers.</div>
                    <div id="vis2" class="vis"></div>
                </div>

                <div class="key-finding">
                    The analysis confirms a **stark economic divide**. **High-income** nations account for over 97% of all Michelin awards globally. **Three-star** restaurants exist almost exclusively in this category, illustrating that economic infrastructure is critical for the highest tier of fine dining.
                </div>
            </section>

            <section>
                <h2>2. Regional & National Dominance</h2>
                <p class="brief-text">Focusing on regional contributions, the following charts detail which World Bank regions are the most dominant and how the star ratings are distributed within those geographic boundaries.</p>
                

                <div class="viz-container">
                    <div class="viz-title">7. Regional Star Breakdown (1-Star, 2-Stars, 3-Stars)</div>
                    <div class="viz-description">Stacked bar chart showing the absolute count of 1-Star, 2-Star, and 3-Star restaurants per World Bank Region.</div>
                    <div id="vis7" class="vis"></div>
                </div>

                <div class="key-finding">
                    **Europe & Central Asia** leads by a massive margin (over 70% of global stars), followed by **East Asia & Pacific**. The regional stacked bar emphasizes the dominance of Europe in the most elite **3-Star** category, while regions like Sub-Saharan Africa show zero presence.
                </div>
            </section>
            
            <section>
                <h2>3. Price, Style, and Performance</h2>
                <p class="brief-text">The final section explores the characteristics of the restaurants themselves: the cuisine styles that are favored, the price expectations, and how national performance is measured.</p>
                
                <div class="viz-container">
                    <div class="viz-title">3. Cuisine Popularity: Top 10 Starred Cuisine Types</div>
                    <div class="viz-description">Horizontal bar chart ranking the top 10 cuisine types by the total number of stars awarded.</div>
                    <div id="vis3" class="vis"></div>
                </div>
                <div class="viz-container">
                    <div class="viz-title">4. Quality vs. Cost: Price Distribution by Star Rating</div>
                    <div class="viz-description">Box plot showing the distribution of restaurant price categories (1=€ to 4=€€€€) for each star level.</div>
                    <div id="vis4" class="vis"></div>
                </div>

                <div class="viz-container">
                    <div class="viz-title">5. Donut</div>
                    <div class="viz-description">Box plot showing the distribution of restaurant price categories (1=€ to 4=€€€€) for each star level.</div>
                    <div id="vis5" class="vis"></div>
                </div>

                <div class="viz-container">
                    <div class="viz-title">8. france</div>
                    <div class="viz-description">Box plot showing the distribution of restaurant price categories (1=€ to 4=€€€€) for each star level.</div>
                    <div id="vis8" class="vis"></div>
                </div>

                <div class="viz-container">
                    <div class="viz-title">9. Italy</div>
                    <div class="viz-description">Box plot showing the distribution of restaurant price categories (1=€ to 4=€€€€) for each star level.</div>
                    <div id="vis9" class="vis"></div>
                </div>

                <div class="viz-container">
                    <div class="viz-title">6. Country Performance: Total Restaurants vs. Total Stars (Top 20)</div>
                    <div class="viz-description">Scatter plot showing the relationship between a country's total starred restaurants (X-axis) and total stars (Y-axis).</div>
                    <div id="vis6" class="vis"></div>
                </div>
                
                <div class="key-finding">
                    **Modern Cuisine** is the most awarded style, and the **Box Plot** confirms a clear, direct correlation between **Star Rating** and the median **Price Index**. The scatter plot demonstrates that overall star leadership is primarily driven by the **volume** of recognized restaurants a country develops.
                </div>
            </section>
            
            <div class="methodology">
                <h3>Methodology</h3>
                <div class="methodology-grid">
                    <div class="methodology-section">
                        <h4>Data & Integration</h4>
                        <ul>
                            <li><strong>Michelin Star Data:</strong> `michelin.csv` (2024 Kaggle dataset).</li>
                            <li><strong>Economic Classification:</strong> `economic_classification.csv` (2024 World Bank data).</li>
                            <li>**Integration:** Vega-Lite `lookup` transform used to join CSV files on the extracted Country Name/Economy fields.</li>
                        </ul>
                    </div>
                    <div class="methodology-section">
                        <h4>Design & Implementation</h4>
                        <ul>
                            <li>**Storytelling:** Single-column scrollable format with explicit section headings and key-finding callouts.</li>
                            <li>**Design Principles:** Vibrant warm color palette (Yellows, Oranges, Reds), solid header color, and wide layout.</li>
                            <li>**Framework:** Vega-Lite 5.17, dynamic loading of 7 specs, interactive map (`vis1`) for exploration.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <h3>About</h3>
            <p>This dashboard confirms a strong correlation between economic prosperity and culinary prestige: 97% of Michelin stars are in high-income countries. This reflects both the economic infrastructure required for fine dining and potential geographic bias in coverage.</p>
            
            <p style="margin-top: 15px;"><strong>Citation:</strong> Amolika Yadav | October 2025 | <a href="https://github.com/amolikay/FIT3179_A2" target="_blank" rel="noopener noreferrer"><span class="code-ref">github.com/amolikay/FIT3179_A2</span></a> | Data: Kaggle Michelin Dataset (2024), World Bank Classifications (2024)</p>
            
            <p style="margin-top: 15px;"><strong>Repository:</strong></p>
            <ul>
                <li><span class="code-ref">index.html</span> — Main dashboard</li>
                <li><span class="code-ref">specs/</span> — Seven Vega-Lite JSON specifications</li>
                <li><span class="code-ref">michelin.csv, economic_classification.csv</span> — Source Data Files</li>
            </ul>
        </footer>
    </div>
    
    <script>
        // Define URLs for all seven Vega-Lite specs (Filenames remain the same)
        const specs = {
            vis1: 'specs/map-interactive-star-spec.json',
            vis2: 'specs/stacked-star-income-spec.json',
            vis3: 'specs/cuisine-star-rank-spec.json',
            vis4: 'specs/price-boxplot-spec.json',
            vis5: 'specs/star_distribution_donut_chart.json',
            vis6: 'specs/country-volume-scatter-spec.json',
            vis7: 'specs/regional-star-breakdown-spec.json',
            vis8: 'specs/map_france.json',
            vis9: 'specs/map_italy.json'
        };
        
        // Function to load and render visualisations
        async function loadVis(elementId, specUrl) {
            try {
                const response = await fetch(specUrl);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const spec = await response.json();
                
                // Use SVG renderer for the map for better interaction, canvas for others
                const renderer = elementId === '#vis1' ? 'svg' : 'canvas';
                await vegaEmbed(elementId, spec, {actions: false, renderer: renderer});
            } catch (error) {
                console.error('Error loading ' + specUrl, error);
                // Fallback to a simple placeholder if spec fails to load
                displayFallbackVis(elementId);
            }
        }
        
        // Fallback visualisations (simple spec) if external files are unavailable
        function displayFallbackVis(elementId) {
            const fallbackSpec = {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "width": "container",
                "height": 300,
                "title": {"text": "Chart Loading Error - Data Processing Failed", "fontSize": 14},
                "data": {"values": []},
                "mark": "bar",
                "encoding": {"x": {"field": "value"}, "y": {"field": "category"}}
            };
            vegaEmbed(elementId, fallbackSpec, {actions: false});
        }
        
        // Load all visualisations when page loads
        document.addEventListener('DOMContentLoaded', function() {
            for (let i = 1; i <= 7; i++) {
                loadVis('#vis' + i, specs['vis' + i]);
            }
        });
    </script>
</body>
</html> -->





<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Culinary Excellence & Economic Prosperity</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega/5.27.0/vega.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-lite/5.17.0/vega-lite.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-embed/6.24.0/vega-embed.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        /* FINAL WARM PALETTE */
        :root {
            --color-primary: #f59e0b;      /* Bright Orange for Titles/Accent */
            --color-secondary: #ef4444;    /* Soft Red for solid Header/Emphasis */
            --color-dark: #44403c;         /* Dark Gray/Brown for text */
            --color-light-bg: #fff7ed;     /* Very Light Peach/Cream Background */
            --color-highlight: #fef3c7;    /* Light Yellow/Highlight for key boxes */
            --color-border: #fca5a5;       /* Light Red/Orange Border */
            --color-footer-bg: #44403c;    /* Dark Brown/Gray for footer */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            color: var(--color-dark);
            line-height: 1.6;
            padding: 40px 20px;
            
            /* Background Doodles: Michelin flower pattern */
            background-color: var(--color-light-bg);
            /* To use your Michelin flower image: 
               1. Save the image (e.g., michelin_flower.png) in your repository.
               2. Replace the placeholder URL below with: url('michelin_flower.png') 
               3. Adjust background-size and opacity as needed for subtlety. */
            background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"%3E%3Cdefs%3E%3Cmask id="michelin_mask"%3E%3Crect x="0" y="0" width="100" height="100" fill="white"/%3E%3Cpath d="M50 0C22.38 0 0 22.38 0 50s22.38 50 50 50 50-22.38 50-50S77.62 0 50 0zm0 10c14.2 0 26.97 6.13 35.84 15.93L70.17 29.83C62.77 21.6 56.63 10 50 10zM85.84 34.07C77.03 24.27 64.26 18.14 50 18.14S22.97 24.27 14.16 34.07L29.83 70.17C37.23 78.4 43.37 90 50 90s12.77-11.6 20.17-19.83L85.84 34.07z" fill="black"/%3E%3C/mask%3E%3C/defs%3E%3Crect x="0" y="0" width="100" height="100" fill="%23fee2e2" mask="url(%23michelin_mask)" opacity="0.1"/%3E%3C/svg%3E');
            background-repeat: repeat;
            background-size: 80px; 
            background-position: center top;
        }
        
        .container {
            max-width: 1100px; 
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }
        
        header {
            background: var(--color-secondary);
            color: white;
            padding: 60px 50px;
            text-align: center;
        }
        
        header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.8em;
            margin-bottom: 8px;
            font-weight: 700;
        }
        
        header p {
            font-size: 1.1em;
            opacity: 0.9;
            margin-bottom: 5px;
        }
        
        .subheader {
            font-size: 0.95em;
            opacity: 0.8;
            color: #fee2e2;
        }
        
        .content {
            padding: 50px;
        }
        
        section {
            margin-bottom: 70px;
        }
        
        section h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2em;
            color: var(--color-primary);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--color-border);
        }
        
        .brief-text {
            font-size: 0.95em;
            color: var(--color-dark);
            margin-bottom: 20px;
            line-height: 1.7;
        }
        
        .what-why-how {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin: 30px 0 30px 0;
            background: var(--color-highlight);
            padding: 25px;
            border-radius: 10px;
            border: 1px solid var(--color-primary);
        }
        
        .what-why-how > div h3 {
            font-size: 0.9em;
            font-weight: 600;
            color: var(--color-dark);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .what-why-how > div p {
            font-size: 0.85em;
            color: var(--color-dark);
            line-height: 1.5;
        }
        
        .viz-container {
            margin: 0;
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }
        
        .viz-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5em;
            font-weight: 600;
            color: var(--color-dark);
            margin-bottom: 5px;
        }
        
        .viz-description {
            font-size: 0.9em;
            color: #a8a29e;
            margin-bottom: 15px;
            min-height: 30px; 
        }
        
        .vis-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 25px;
            margin-top: 30px;
        }
        
        .vis-single {
            grid-column: 1 / -1;
        }
        
        .vis {
            width: 100%;
            height: auto;
        }
        
        .key-finding {
            background: #fef2f2;
            border-left: 4px solid var(--color-secondary);
            padding: 18px 25px;
            margin: 20px 0 0 0;
            border-radius: 4px;
            font-size: 1em;
            line-height: 1.6;
            color: #b91c1c;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .key-finding strong {
            color: var(--color-secondary);
        }
        
        .methodology {
            background: var(--color-highlight);
            padding: 30px;
            border-radius: 10px;
            margin-top: 50px;
            border: 1px solid var(--color-primary);
        }
        
        .methodology h3 {
            font-size: 1.3em;
            margin-bottom: 15px;
            color: var(--color-dark);
            border-bottom: 2px solid var(--color-border);
            padding-bottom: 10px;
        }
        
        .methodology-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-top: 15px;
        }
        
        .methodology-section h4 {
            font-size: 0.95em;
            font-weight: 600;
            color: var(--color-dark);
            margin-bottom: 8px;
        }
        
        .methodology-section ul {
            margin-left: 20px;
            color: var(--color-dark);
            font-size: 0.85em;
        }
        
        .methodology-section li {
            margin-bottom: 6px;
            line-height: 1.5;
        }
        
        footer {
            background: var(--color-footer-bg);
            color: #f7fee7;
            padding: 40px 50px;
            font-size: 0.85em;
            line-height: 1.7;
        }
        
        footer h3 {
            font-size: 1.1em;
            margin-bottom: 12px;
            color: white;
        }
        
        footer a {
            color: #fcd34d;
            text-decoration: none;
        }
        
        footer ul {
            margin-left: 20px;
            margin-top: 8px;
        }
        
        footer li {
            margin-bottom: 6px;
        }
        
        .code-ref {
            background: #57534e;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.8em;
            color: #fcd34d;
        }
        
        @media (max-width: 1024px) {
            .what-why-how {
                grid-template-columns: 1fr;
            }
            .vis-grid {
                grid-template-columns: 1fr;
            }
            .methodology-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Culinary Excellence & Economic Prosperity</h1>
            <p>Do Michelin Stars Cluster in Wealthy Nations?</p>
            <div class="subheader">A scrollable analysis of fine dining prestige across global economic classifications</div>
        </header>
        
        <div class="content">
            <section>
                <h2>Introduction & Framework</h2>
                <div class="what-why-how">
                    <div>
                        <h3>What (Data)</h3>
                        <p>Michelin restaurant data joined with World Bank economic classifications for 195 countries.</p>
                    </div>
                    <div>
                        <h3>Why (Goal)</h3>
                        <p>Examine whether culinary prestige correlates with national wealth and infrastructure capacity.</p>
                    </div>
                    <div>
                        <h3>How (Methods)</h3>
                        <p>Seven interactive visualizations guiding the reader through geographic, economic, and cultural patterns.</p>
                    </div>
                </div>
            </section>
            
            <section>
                <h2>1. Global Distribution: A Geographic Divide</h2>
                <p class="brief-text">Michelin stars represent a pinnacle of culinary achievement, yet their distribution is highly unequal. The interactive map below, colored by income group, shows clear clustering in prosperous economies.</p>
                
                <div class="viz-container">
                    <div class="viz-title">1. Interactive Global Star Distribution by Income Group</div>
                    <div class="viz-description">Drag to pan, scroll to zoom. Circle size indicates star award; color shows World Bank Income Group. (Uses `michelin.csv` and `economic_classification.csv`).</div>
                    <div id="vis1" class="vis"></div>
                </div>
                
                <div class="viz-container">
                    <div class="viz-title">2. Economic Concentration: Star Rating Breakdown by Income Group</div>
                    <div class="viz-description">Stacked bar chart showing the proportion of 1, 2, and 3-star restaurants across income levels. Only High-income nations host all three tiers.</div>
                    <div id="vis2" class="vis"></div>
                </div>

                <div class="key-finding">
                    The analysis confirms a **stark economic divide**. **High-income** nations account for over 97% of all Michelin awards globally. **Three-star** restaurants exist almost exclusively in this category, illustrating that economic infrastructure is critical for the highest tier of fine dining.
                </div>
            </section>

            <section>
                <h2>2. Regional & National Dominance</h2>
                <p class="brief-text">Focusing on regional contributions, the following charts detail which World Bank regions are the most dominant and how the star ratings are distributed within those geographic boundaries.</p>
                
                <div class="viz-container">
                    <div class="viz-title">5. Regional Dominance: Total Michelin Stars by World Region</div>
                    <div class="viz-description">Horizontal bar chart ranking World Bank regions by the total number of Michelin stars awarded.</div>
                    <div id="vis5" class="vis"></div>
                </div>
                <div class="viz-container">
                    <div class="viz-title">7. Regional Star Breakdown (1-Star, 2-Stars, 3-Stars)</div>
                    <div class="viz-description">Stacked bar chart showing the absolute count of 1-Star, 2-Star, and 3-Star restaurants per World Bank Region.</div>
                    <div id="vis7" class="vis"></div>
                </div>

                <div class="key-finding">
                    **Europe & Central Asia** leads by a massive margin (over 70% of global stars), followed by **East Asia & Pacific**. The regional stacked bar emphasizes the dominance of Europe in the most elite **3-Star** category, while regions like Sub-Saharan Africa show zero presence.
                </div>
            </section>
            
            <section>
                <h2>3. Price, Style, and Performance</h2>
                <p class="brief-text">The final section explores the characteristics of the restaurants themselves: the cuisine styles that are favored, the price expectations, and how national performance is measured.</p>
                
                <div class="viz-container">
                    <div class="viz-title">3. Cuisine Popularity: Top 10 Starred Cuisine Types</div>
                    <div class="viz-description">Horizontal bar chart ranking the top 10 cuisine types by the total number of stars awarded.</div>
                    <div id="vis3" class="vis"></div>
                </div>
                <div class="viz-container">
                    <div class="viz-title">4. Quality vs. Cost: Price Distribution by Star Rating</div>
                    <div class="viz-description">Box plot showing the distribution of restaurant price categories (1=€ to 4=€€€€) for each star level.</div>
                    <div id="vis4" class="vis"></div>
                </div>

                <div class="viz-container">
                    <div class="viz-title">8. Distribution of Star Ratings in France</div>
                    <div class="viz-description">Map showing Michelin stars located across France.</div>
                    <div id="vis8" class="vis"></div>
                </div>

                <div class="viz-container">
                    <div class="viz-title">9. Distribution of Star Ratings in Italy</div>
                    <div class="viz-description">Map showing Michelin stars located across Italy.</div>
                    <div id="vis9" class="vis"></div>
                </div>

                <div class="viz-container">
                    <div class="viz-title">6. Country Performance: Total Restaurants vs. Total Stars (Top 20)</div>
                    <div class="viz-description">Scatter plot showing the relationship between a country's total starred restaurants (X-axis) and total stars (Y-axis).</div>
                    <div id="vis6" class="vis"></div>
                </div>

                <div class="viz-container">
                    <div class="viz-title">7. Star Rating Breakdown</div>
                    <div class="viz-description">Donut chart showing the absolute count of 1-Star, 2-Star, and 3-Star restaurants globally.</div>
                    <div id="vis10" class="vis"></div>
                </div>
                
                <div class="key-finding">
                    **Modern Cuisine** is the most awarded style, and the **Box Plot** confirms a clear, direct correlation between **Star Rating** and the median **Price Index**. The scatter plot demonstrates that overall star leadership is primarily driven by the **volume** of recognized restaurants a country develops.
                </div>
            </section>
            
            <div class="methodology">
                <h3>Methodology</h3>
                <div class="methodology-grid">
                    <div class="methodology-section">
                        <h4>Data & Integration</h4>
                        <ul>
                            <li><strong>Michelin Star Data:</strong> `michelin.csv` (2024 Kaggle dataset).</li>
                            <li><strong>Economic Classification:</strong> `economic_classification.csv` (2024 World Bank data).</li>
                            <li>**Integration:** Vega-Lite `lookup` transform used to join CSV files on the extracted Country Name/Economy fields.</li>
                        </ul>
                    </div>
                    <div class="methodology-section">
                        <h4>Design & Implementation</h4>
                        <ul>
                            <li>**Storytelling:** Single-column scrollable format with explicit section headings and key-finding callouts.</li>
                            <li>**Design Principles:** Vibrant warm color palette (Yellows, Oranges, Reds), solid header color, and wide layout.</li>
                            <li>**Framework:** Vega-Lite 5.17, dynamic loading of 7 specs, interactive map (`vis1`) for exploration.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <h3>About</h3>
            <p>This dashboard confirms a strong correlation between economic prosperity and culinary prestige: 97% of Michelin stars are in high-income countries. This reflects both the economic infrastructure required for fine dining and potential geographic bias in coverage.</p>
            
            <p style="margin-top: 15px;"><strong>Citation:</strong> Amolika Yadav | October 2025 | <a href="https://github.com/amolikay/FIT3179_A2" target="_blank" rel="noopener noreferrer"><span class="code-ref">github.com/amolikay/FIT3179_A2</span></a> | Data: Kaggle Michelin Dataset (2024), World Bank Classifications (2024)</p>
            
            <p style="margin-top: 15px;"><strong>Repository:</strong></p>
            <ul>
                <li><span class="code-ref">index.html</span> — Main dashboard</li>
                <li><span class="code-ref">specs/</span> — Seven Vega-Lite JSON specifications</li>
                <li><span class="code-ref">michelin.csv, economic_classification.csv</span> — Source Data Files</li>
            </ul>
        </footer>
    </div>
    
    <script>
        // Define URLs for all seven Vega-Lite specs (Filenames remain the same)
        const specs = {
            vis1: 'specs/map-interactive-star-spec.json',
            vis2: 'specs/stacked-star-income-spec.json',
            vis3: 'specs/cuisine-star-rank-spec.json',
            vis4: 'specs/price-boxplot-spec.json',
            vis5: 'specs/regional-star-rank-spec.json', 
            vis6: 'specs/country-volume-scatter-spec.json',
            vis7: 'specs/regional-star-breakdown-spec.json', 
            vis8: 'specs/map_chloro.json',
            vis9: 'specs/map_italy.json',
            vis10: 'specs/star_distribution_donut_chart.json' // New Donut Chart
        };
        
        // Function to load and render visualisations
        async function loadVis(elementId, specUrl) {
            try {
                const response = await fetch(specUrl);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const spec = await response.json();
                
                // Use SVG renderer for the map for better interaction, canvas for others
                const renderer = elementId === '#vis1' || elementId === '#vis8' || elementId === '#vis9' ? 'svg' : 'canvas';
                await vegaEmbed(elementId, spec, {actions: false, renderer: renderer});
            } catch (error) {
                console.error('Error loading ' + specUrl, error);
                // Fallback to a simple placeholder if spec fails to load
                displayFallbackVis(elementId);
            }
        }
        
        // Fallback visualisations (simple spec) if external files are unavailable
        function displayFallbackVis(elementId) {
            const fallbackSpec = {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "width": "container",
                "height": 300,
                "title": {"text": "Chart Loading Error - Data Processing Failed", "fontSize": 14},
                "data": {"values": []},
                "mark": "bar",
                "encoding": {"x": {"field": "value"}, "y": {"field": "category"}}
            };
            vegaEmbed(elementId, fallbackSpec, {actions: false});
        }
        
        // Load all visualisations when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Updated loop to load all 9 (now 10) visualizations dynamically
            for (let i = 1; i <= 10; i++) {
                // Determine the correct key, handling the new vis10
                const visKey = 'vis' + i;
                if (specs[visKey]) {
                    loadVis('#' + visKey, specs[visKey]);
                }
            }
        });
    </script>
</body>
</html>